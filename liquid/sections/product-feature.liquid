<div class="product-feature">
    <div class="product-feature__header">
        {% if section.settings.title != blank %}
            <h2>{{ section.settings.title }}</h2>  
        {% endif %}
        <span class="splitter"></span>
        {% if section.settings.link != blank and section.settings.link_text != blank %}
            <a href="{{ section.settings.link}}">{{ section.settings.link_text }} {% render 'icon-arrow' %}</a>  
        {% endif %}
    </div>
    <div class="section-products-feature__inner wrap wrap--{{ section_id }}">
        {% if section.settings.image != blank %}
            <img class="section-products-feature__image" src="{{ section.settings.image | img_url: '670x880' }}" alt="{{ section.settings.image.alt }}"/> 
        {% endif %}
        {% if section.settings.products != blank %}
            <div class="section-products-feature__products">
                {% for product in section.settings.products %}
                    {% render 'product-card', product: product %}
                {% endfor %}
            </div>
        {% endif %}
    </div>
</div>

{% schema %}
{
    "name": "Product Feature",
    "settings": [
        {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "Discover pieces that embrace your life"
        },
        {
            "type": "url",
            "id": "link",
            "label": "Link"
        },
        {
            "type": "text",
            "id": "link_text",
            "label": "Link Text",
            "default": "Shop all"
        },
        {
            "type": "image_picker",
            "id": "image",
            "label": "Feature Image"
        },
        {
            "type": "product_list",
            "id": "products",
            "label": "Products",
            "limit": 4
        }
    ],
    "presets": [
        {
            "name": "Product Feature"
        }
    ]
}
{% endschema %}